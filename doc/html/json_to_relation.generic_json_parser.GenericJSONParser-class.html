<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>json_to_relation.generic_json_parser.GenericJSONParser</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Package&nbsp;json_to_relation ::
        <a href="json_to_relation.generic_json_parser-module.html">Module&nbsp;generic_json_parser</a> ::
        Class&nbsp;GenericJSONParser
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="json_to_relation.generic_json_parser.GenericJSONParser-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class GenericJSONParser</h1><p class="nomargin-top"><span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser">source&nbsp;code</a></span></p>
<pre class="base-tree">
object --+
         |
        <strong class="uidshort">GenericJSONParser</strong>
</pre>

<dl><dt>Known Subclasses:</dt>
<dd>
      <ul class="subclass-list">
<li><a href="json_to_relation.edxTrackLogJSONParser.EdXTrackLogJSONParser-class.html">edxTrackLogJSONParser.EdXTrackLogJSONParser</a></li>  </ul>
</dd></dl>

<hr />
<p>Takes a JSON string, and returns a CSV row for later import into a 
  relational database.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="json_to_relation.generic_json_parser.GenericJSONParser-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">jsonToRelationConverter</span>)</span><br />
      x.__init__(...) initializes x; see help(type(x)) for signature</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="json_to_relation.generic_json_parser.GenericJSONParser-class.html#processOneJSONObject" class="summary-sig-name">processOneJSONObject</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">jsonStr</span>,
        <span class="summary-sig-arg">row</span>)</span><br />
      Given a JSON string that is one entire JSON object, parse the string 
      into nested dicts.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser.processOneJSONObject">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="json_to_relation.generic_json_parser.GenericJSONParser-class.html#setValInRow" class="summary-sig-name">setValInRow</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">theRow</span>,
        <span class="summary-sig-arg">colName</span>,
        <span class="summary-sig-arg">value</span>)</span><br />
      Given a column name, a value and a partially filled row, add the 
      column to the row, or set the value in an already existing row.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser.setValInRow">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="incArrayIndex"></a><span class="summary-sig-name">incArrayIndex</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">arrayIndexStack</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser.incArrayIndex">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="decArrayIndex"></a><span class="summary-sig-name">decArrayIndex</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">arrayIndexStack</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser.decArrayIndex">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="json_to_relation.generic_json_parser.GenericJSONParser-class.html#removeItemPartOfString" class="summary-sig-name">removeItemPartOfString</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">label</span>)</span><br />
      Given a label, like employee.item.name, remove the last occurrence of
      'item'</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser.removeItemPartOfString">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="json_to_relation.generic_json_parser.GenericJSONParser-class.html#REMOVE_ITEM_FROM_STRING_PATTERN" class="summary-name">REMOVE_ITEM_FROM_STRING_PATTERN</a> = <code title="re.compile(r'(item)\.([^\.]*$)')">re.compile(r'<code class="re-group">(</code>item<code class="re-group">)</code>\.<code class="re-group">(</code><code class="re-group">[^</code>\.<code class="re-group">]</code><code class="re-op">*</code><code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">jsonToRelationConverter</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>x.__init__(...) initializes x; see help(type(x)) for signature</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>jsonToRelationConverter</code></strong> (JSONToRelation) - JSONToRelation instance</li>
    </ul></dd>
    <dt>Overrides:
        object.__init__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="processOneJSONObject"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">processOneJSONObject</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">jsonStr</span>,
        <span class="sig-arg">row</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser.processOneJSONObject">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Given a JSON string that is one entire JSON object, parse the string 
  into nested dicts. Derive relational column names from the (possibly 
  nested) labels. Cooperate with the parent JSONToRelations instance to 
  build a schema of typed SQL columns. Fill the passed-in row with values 
  from the JSON string. The following mappings from Python values are 
  used:</p>
<pre class="literalblock">
   ('null', None)
       ('boolean', &lt;true orfFalse&gt;)
       ('number', &lt;int or Decimal&gt;)
       ('string', &lt;unicode&gt;)
       ('map_key', &lt;str&gt;)
       ('start_map', None)
       ('end_map', None)
       ('start_array', None)
       ('end_array', None)
       
       @param jsonStr: string of a single, self contained JSON object
       @type jsonStr: String
       @param row: partially filled array of values.
       @type row: List&lt;&lt;any&gt;&gt;
</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="setValInRow"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">setValInRow</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">theRow</span>,
        <span class="sig-arg">colName</span>,
        <span class="sig-arg">value</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser.setValInRow">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Given a column name, a value and a partially filled row, add the 
  column to the row, or set the value in an already existing row. Uses the 
  JSONToRelation instance passed to __init__() to obtain current 
  schema.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>theRow</code></strong> (List&lt;&lt;any&gt;&gt;) - list of values in their proper column positions</li>
        <li><strong class="pname"><code>colName</code></strong> (String) - name of column into which value is to be inserted.</li>
        <li><strong class="pname"><code>value</code></strong> (&lt;any&gt;, as per ColDataType) - the field value</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="removeItemPartOfString"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">removeItemPartOfString</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">label</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="json_to_relation.generic_json_parser-pysrc.html#GenericJSONParser.removeItemPartOfString">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Given a label, like employee.item.name, remove the last occurrence of 
  'item'</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>label</code></strong> (String) - string from which last 'item' occurrence is to be removed</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== CLASS VARIABLE DETAILS ==================== -->
<a name="section-ClassVariableDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variable Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariableDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="REMOVE_ITEM_FROM_STRING_PATTERN"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">REMOVE_ITEM_FROM_STRING_PATTERN</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
re.compile(r'<code class="re-group">(</code>item<code class="re-group">)</code>\.<code class="re-group">(</code><code class="re-group">[^</code>\.<code class="re-group">]</code><code class="re-op">*</code>$<code class="re-group">)</code>')
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Thu Oct  3 14:52:44 2013
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
